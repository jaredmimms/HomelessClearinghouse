{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/babel-loader/lib/index.js!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/eslint-loader/index.js??ref--13-0!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/src/common/router.js","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/src/common/router.js","mtime":1651876593670},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9BcHBsaWNhdGlvbnMvWEFNUFAveGFtcHBmaWxlcy9odGRvY3MvZTI4L3AzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGlzdG9yeSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyBzdG9yZSB9IGZyb20gJ0AvY29tbW9uL3N0b3JlJzsgLy8gRGVmaW5lIGFsbCB0aGUgcm91dGVzIG9mIG91ciBhcHBsaWNhdGlvbgoKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnQC9jb21wb25lbnRzL3BhZ2VzL0hvbWVQYWdlLnZ1ZScpOwogIH0KfSwgewogIHBhdGg6ICcvb2ZmZXJzJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJ0AvY29tcG9uZW50cy9wYWdlcy9PZmZlcnNQYWdlLnZ1ZScpOwogIH0KfSwgewogIHBhdGg6ICcvb2ZmZXIvbmV3JywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJ0AvY29tcG9uZW50cy9wYWdlcy9PZmZlckNyZWF0ZVBhZ2UudnVlJyk7CiAgfSwKICAvLyBOb3RlIHRoZSBhZGRpdGlvbiBvZiB0aGlzIG1ldGEgYXR0cmlidXRlOgogIG1ldGE6IHsKICAgIHJlcXVpcmVzQXV0aDogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICcvb2ZmZXIvOmlkJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJ0AvY29tcG9uZW50cy9wYWdlcy9PZmZlclBhZ2UudnVlJyk7CiAgfSwKICBwcm9wczogdHJ1ZQp9LCB7CiAgcGF0aDogJy90YWdzJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJ0AvY29tcG9uZW50cy9wYWdlcy9DYXRlZ29yaWVzUGFnZS52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnL2Zhdm9yaXRlcycsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCdAL2NvbXBvbmVudHMvcGFnZXMvRmF2b3JpdGVzUGFnZS52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnL3NlYXJjaCcsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCdAL2NvbXBvbmVudHMvcGFnZXMvU2VhcmNoUGFnZS52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnL2FkbWluJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJ0AvY29tcG9uZW50cy9wYWdlcy9BZG1pblBhZ2UudnVlJyk7CiAgfQp9LCB7CiAgLy8gVGhpcyBpcyBhIHJvdXRlIHdlIGNhbiBkaXJlY3QgdGhlIHVzZXIgdG8gaWYgdGhleSB0cnkgdG8gYWNjZXNzIAogIC8vIGEgcGFydCBvZiB0aGUgc2l0ZSB0aGV5IGRvbuKAmXQgaGF2ZSBwcml2aWxlZ2VzIGZvcgogIHBhdGg6ICcvZGVuaWVkJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJ0AvY29tcG9uZW50cy9wYWdlcy9BY2Nlc3NEZW5pZWRQYWdlLnZ1ZScpOwogIH0KfV07IC8vIEluaXRpYWxpemUgb3VyIHJvdXRlcgoKdmFyIHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7CiAgaGlzdG9yeTogY3JlYXRlV2ViSGlzdG9yeSgpLAogIHJvdXRlczogcm91dGVzCn0pOyAvLyBiZWZvcmVFYWNoIHByb3ZpZGVzIGEgd2F5IHRvIGV4ZWN1dGUgc29tZSBjb2RlIGJlZm9yZSBhIHJvdXRlIGlzIHJlc29sdmVkCi8vIFJlZjogaHR0cHM6Ly9yb3V0ZXIudnVlanMub3JnL2d1aWRlL2FkdmFuY2VkL25hdmlnYXRpb24tZ3VhcmRzLmh0bWwKCnJvdXRlci5iZWZvcmVFYWNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRvKSB7CiAgICB2YXIgcmVxdWlyZXNBdXRoLCBkZWNpZGUsIGF1dGhVc2VyOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAvLyBFeGFjdCB0aGUgbWV0YSBpbmZvcm1hdGlvbiBmcm9tIG91ciByb3V0ZXMKICAgICAgICAgICAgLy8gUmVmOiBodHRwczovL3JvdXRlci52dWVqcy5vcmcvZ3VpZGUvYWR2YW5jZWQvbWV0YS5odG1sI3JvdXRlLW1ldGEtZmllbGRzCiAgICAgICAgICAgIHJlcXVpcmVzQXV0aCA9IHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlY29yZC5tZXRhLnJlcXVpcmVzQXV0aDsKICAgICAgICAgICAgfSk7IC8vIFB1dCB0aGUg4oCcZGVjaWRlIHdoYXQgdG8gZG/igJ0gY29kZSBpbnRvIGEgbWV0aG9kIHNvIHdlIGNhbiB3YWl0IHRvIGludm9rZSBpdAogICAgICAgICAgICAvLyBvbmNlIHdlIGhhdmUgdGhlIHVzZXIgZGF0YQoKICAgICAgICAgICAgZGVjaWRlID0gZnVuY3Rpb24gZGVjaWRlKHVzZXIpIHsKICAgICAgICAgICAgICBpZiAocmVxdWlyZXNBdXRoICYmICF1c2VyKSB7CiAgICAgICAgICAgICAgICAvLyBJZiB0aGV54oCZcmUgdHJ5aW5nIHRvIGFjY2VzcyBhIHJlcXVpcmVzQXV0aCByb3V0ZSBhbmQgdGhleeKAmXJlIG5vdCBsb2dnZWQgaW4sIAogICAgICAgICAgICAgICAgLy8gdGhleSBnZXQgc2VudCB0byDigJxBY2Nlc3MgRGVuaWVk4oCdIHBhZ2UKICAgICAgICAgICAgICAgIHJldHVybiAnL2RlbmllZCc7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgYWxsb3cgdGhlbSB0byBpbnRlbmRlZCBkZXN0aW5hdGlvbgogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OyAvLyBJZiB3ZSBkb27igJl0IGhhdmUgdGhlIHVzZXIgeWV0LCBkaXNwYXRjaCBvdXIgVnVleCBhdXRoVXNlciBhY3Rpb24KCgogICAgICAgICAgICBpZiAoIShzdG9yZS5zdGF0ZS51c2VyID09PSBudWxsKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnYXV0aFVzZXInKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGF1dGhVc2VyID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgIGlmICghKGF1dGhVc2VyICE9PSBudWxsKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBkZWNpZGUoc3RvcmUuc3RhdGUudXNlcikpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBkZWNpZGUoc3RvcmUuc3RhdGUudXNlcikpOwoKICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7CmV4cG9ydCB7IHJvdXRlciB9Ow=="},{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/e28/p3/src/common/router.js"],"names":["createRouter","createWebHistory","store","routes","path","component","meta","requiresAuth","props","router","history","beforeEach","to","matched","some","record","decide","user","state","dispatch","authUser"],"mappings":"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","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\nimport { store } from '@/common/store';\n\n// Define all the routes of our application\nconst routes = [\n    {\n        path: '/',\n        component: () => import('@/components/pages/HomePage.vue'),\n    },\n    {\n        path: '/offers',\n        component: () => import('@/components/pages/OffersPage.vue'),\n    },\n    {\n        path: '/offer/new',\n        component: () => import('@/components/pages/OfferCreatePage.vue'),\n        // Note the addition of this meta attribute:\n        meta: {\n            requiresAuth: true\n        }\n    },\n    {\n        path: '/offer/:id',\n        component: () => import('@/components/pages/OfferPage.vue'),\n        props: true,\n    },\n    {\n        path: '/tags',\n        component: () => import('@/components/pages/CategoriesPage.vue'),\n    },\n    {\n        path: '/favorites',\n        component: () => import('@/components/pages/FavoritesPage.vue'),\n    },\n    {\n        path: '/search',\n        component: () => import('@/components/pages/SearchPage.vue'),\n    },\n    {\n        path: '/admin',\n        component: () => import('@/components/pages/AdminPage.vue'),\n    },\n    {\n        // This is a route we can direct the user to if they try to access \n        // a part of the site they don’t have privileges for\n        path: '/denied',\n        component: () => import('@/components/pages/AccessDeniedPage.vue'),\n    },\n\n];\n\n// Initialize our router\nconst router = createRouter({\n    history: createWebHistory(),\n    routes,\n});\n\n// beforeEach provides a way to execute some code before a route is resolved\n// Ref: https://router.vuejs.org/guide/advanced/navigation-guards.html\nrouter.beforeEach(async (to) => {\n\n    // Exact the meta information from our routes\n    // Ref: https://router.vuejs.org/guide/advanced/meta.html#route-meta-fields\n    const requiresAuth = to.matched.some(record => record.meta.requiresAuth);\n\n    // Put the “decide what to do” code into a method so we can wait to invoke it\n    // once we have the user data\n    const decide = (user) => {\n        if (requiresAuth && !user) {\n            // If they’re trying to access a requiresAuth route and they’re not logged in, \n            // they get sent to “Access Denied” page\n            return '/denied';\n        } else {\n            // Otherwise, allow them to intended destination\n            return true;\n        }\n    }\n\n    // If we don’t have the user yet, dispatch our Vuex authUser action\n    if (store.state.user === null) {\n        let authUser = await store.dispatch('authUser');\n        if (authUser !== null) {\n            return decide(store.state.user);\n        }\n    } else {\n        return decide(store.state.user);\n    }\n});\n\nexport { router };"]}]}