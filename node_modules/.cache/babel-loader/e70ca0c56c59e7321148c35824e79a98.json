{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/thread-loader/dist/cjs.js!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/babel-loader/lib/index.js!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/eslint-loader/index.js??ref--13-0!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/src/common/router.js","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/src/common/router.js","mtime":1620686129146},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9BcHBsaWNhdGlvbnMvWEFNUFAveGFtcHBmaWxlcy9odGRvY3MvZTI4L3AzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGlzdG9yeSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyBzdG9yZSB9IGZyb20gJ0AvY29tbW9uL3N0b3JlJzsgLy8gRGVmaW5lIGFsbCB0aGUgcm91dGVzIG9mIG91ciBhcHBsaWNhdGlvbgoKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnQC9jb21wb25lbnRzL3BhZ2VzL0hvbWVQYWdlLnZ1ZScpOwogIH0KfSwgewogIHBhdGg6ICcvcG9zdHMnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnQC9jb21wb25lbnRzL3BhZ2VzL1Bvc3RzUGFnZS52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnL3Bvc3QvbmV3JywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJ0AvY29tcG9uZW50cy9wYWdlcy9Qb3N0Q3JlYXRlUGFnZS52dWUnKTsKICB9LAogIC8vIE5vdGUgdGhlIGFkZGl0aW9uIG9mIHRoaXMgbWV0YSBhdHRyaWJ1dGU6CiAgbWV0YTogewogICAgcmVxdWlyZXNBdXRoOiB0cnVlCiAgfQp9LCB7CiAgcGF0aDogJy9wb3N0LzppZCcsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCdAL2NvbXBvbmVudHMvcGFnZXMvUG9zdFBhZ2UudnVlJyk7CiAgfSwKICBwcm9wczogdHJ1ZQp9LCB7CiAgcGF0aDogJy9jYXRlZ29yaWVzJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJ0AvY29tcG9uZW50cy9wYWdlcy9DYXRlZ29yaWVzUGFnZS52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnL2Zhdm9yaXRlcycsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCdAL2NvbXBvbmVudHMvcGFnZXMvRmF2b3JpdGVzUGFnZS52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnL3NlYXJjaCcsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCdAL2NvbXBvbmVudHMvcGFnZXMvU2VhcmNoUGFnZS52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnL2FjY291bnQnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnQC9jb21wb25lbnRzL3BhZ2VzL0FjY291bnRQYWdlLnZ1ZScpOwogIH0KfSwgewogIC8vIFRoaXMgaXMgYSByb3V0ZSB3ZSBjYW4gZGlyZWN0IHRoZSB1c2VyIHRvIGlmIHRoZXkgdHJ5IHRvIGFjY2VzcyAKICAvLyBhIHBhcnQgb2YgdGhlIHNpdGUgdGhleSBkb27igJl0IGhhdmUgcHJpdmlsZWdlcyBmb3IKICBwYXRoOiAnL2RlbmllZCcsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCdAL2NvbXBvbmVudHMvcGFnZXMvQWNjZXNzRGVuaWVkUGFnZS52dWUnKTsKICB9Cn1dOyAvLyBJbml0aWFsaXplIG91ciByb3V0ZXIKCnZhciByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoewogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkoKSwKICByb3V0ZXM6IHJvdXRlcwp9KTsgLy8gYmVmb3JlRWFjaCBwcm92aWRlcyBhIHdheSB0byBleGVjdXRlIHNvbWUgY29kZSBiZWZvcmUgYSByb3V0ZSBpcyByZXNvbHZlZAovLyBSZWY6IGh0dHBzOi8vcm91dGVyLnZ1ZWpzLm9yZy9ndWlkZS9hZHZhbmNlZC9uYXZpZ2F0aW9uLWd1YXJkcy5odG1sCgpyb3V0ZXIuYmVmb3JlRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0bykgewogICAgdmFyIHJlcXVpcmVzQXV0aCwgZGVjaWRlLCBhdXRoVXNlcjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgLy8gRXhhY3QgdGhlIG1ldGEgaW5mb3JtYXRpb24gZnJvbSBvdXIgcm91dGVzCiAgICAgICAgICAgIC8vIFJlZjogaHR0cHM6Ly9yb3V0ZXIudnVlanMub3JnL2d1aWRlL2FkdmFuY2VkL21ldGEuaHRtbCNyb3V0ZS1tZXRhLWZpZWxkcwogICAgICAgICAgICByZXF1aXJlc0F1dGggPSB0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgICAgICAgICAgIHJldHVybiByZWNvcmQubWV0YS5yZXF1aXJlc0F1dGg7CiAgICAgICAgICAgIH0pOyAvLyBQdXQgdGhlIOKAnGRlY2lkZSB3aGF0IHRvIGRv4oCdIGNvZGUgaW50byBhIG1ldGhvZCBzbyB3ZSBjYW4gd2FpdCB0byBpbnZva2UgaXQKICAgICAgICAgICAgLy8gb25jZSB3ZSBoYXZlIHRoZSB1c2VyIGRhdGEKCiAgICAgICAgICAgIGRlY2lkZSA9IGZ1bmN0aW9uIGRlY2lkZSh1c2VyKSB7CiAgICAgICAgICAgICAgaWYgKHJlcXVpcmVzQXV0aCAmJiAhdXNlcikgewogICAgICAgICAgICAgICAgLy8gSWYgdGhleeKAmXJlIHRyeWluZyB0byBhY2Nlc3MgYSByZXF1aXJlc0F1dGggcm91dGUgYW5kIHRoZXnigJlyZSBub3QgbG9nZ2VkIGluLCAKICAgICAgICAgICAgICAgIC8vIHRoZXkgZ2V0IHNlbnQgdG8g4oCcQWNjZXNzIERlbmllZOKAnSBwYWdlCiAgICAgICAgICAgICAgICByZXR1cm4gJy9kZW5pZWQnOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGFsbG93IHRoZW0gdG8gaW50ZW5kZWQgZGVzdGluYXRpb24KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsgLy8gSWYgd2UgZG9u4oCZdCBoYXZlIHRoZSB1c2VyIHlldCwgZGlzcGF0Y2ggb3VyIFZ1ZXggYXV0aFVzZXIgYWN0aW9uCgoKICAgICAgICAgICAgaWYgKCEoc3RvcmUuc3RhdGUudXNlciA9PT0gbnVsbCkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ2F1dGhVc2VyJyk7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBhdXRoVXNlciA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICBpZiAoIShhdXRoVXNlciAhPT0gbnVsbCkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZGVjaWRlKHN0b3JlLnN0YXRlLnVzZXIpKTsKCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZGVjaWRlKHN0b3JlLnN0YXRlLnVzZXIpKTsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpOwpleHBvcnQgeyByb3V0ZXIgfTs="},{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/e28/p3/src/common/router.js"],"names":["createRouter","createWebHistory","store","routes","path","component","meta","requiresAuth","props","router","history","beforeEach","to","matched","some","record","decide","user","state","dispatch","authUser"],"mappings":"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","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\nimport { store } from '@/common/store';\n\n// Define all the routes of our application\nconst routes = [\n    {\n        path: '/',\n        component: () => import('@/components/pages/HomePage.vue'),\n    },\n    {\n        path: '/posts',\n        component: () => import('@/components/pages/PostsPage.vue'),\n    },\n    {\n        path: '/post/new',\n        component: () => import('@/components/pages/PostCreatePage.vue'),\n        // Note the addition of this meta attribute:\n        meta: {\n            requiresAuth: true\n        }\n    },\n    {\n        path: '/post/:id',\n        component: () => import('@/components/pages/PostPage.vue'),\n        props: true,\n    },\n    {\n        path: '/categories',\n        component: () => import('@/components/pages/CategoriesPage.vue'),\n    },\n    {\n        path: '/favorites',\n        component: () => import('@/components/pages/FavoritesPage.vue'),\n    },\n    {\n        path: '/search',\n        component: () => import('@/components/pages/SearchPage.vue'),\n    },\n    {\n        path: '/account',\n        component: () => import('@/components/pages/AccountPage.vue'),\n    },\n    {\n        // This is a route we can direct the user to if they try to access \n        // a part of the site they don’t have privileges for\n        path: '/denied',\n        component: () => import('@/components/pages/AccessDeniedPage.vue'),\n    },\n\n];\n\n// Initialize our router\nconst router = createRouter({\n    history: createWebHistory(),\n    routes,\n});\n\n// beforeEach provides a way to execute some code before a route is resolved\n// Ref: https://router.vuejs.org/guide/advanced/navigation-guards.html\nrouter.beforeEach(async (to) => {\n\n    // Exact the meta information from our routes\n    // Ref: https://router.vuejs.org/guide/advanced/meta.html#route-meta-fields\n    const requiresAuth = to.matched.some(record => record.meta.requiresAuth);\n\n    // Put the “decide what to do” code into a method so we can wait to invoke it\n    // once we have the user data\n    const decide = (user) => {\n        if (requiresAuth && !user) {\n            // If they’re trying to access a requiresAuth route and they’re not logged in, \n            // they get sent to “Access Denied” page\n            return '/denied';\n        } else {\n            // Otherwise, allow them to intended destination\n            return true;\n        }\n    }\n\n    // If we don’t have the user yet, dispatch our Vuex authUser action\n    if (store.state.user === null) {\n        let authUser = await store.dispatch('authUser');\n        if (authUser !== null) {\n            return decide(store.state.user);\n        }\n    } else {\n        return decide(store.state.user);\n    }\n});\n\nexport { router };"]}]}