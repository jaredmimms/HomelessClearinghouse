{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/babel-loader/lib/index.js!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/src/components/pages/AccountPage.vue?vue&type=template&id=69da1011","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/src/components/pages/AccountPage.vue","mtime":1620691086744},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1616796459000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIHZNb2RlbFRleHQgYXMgX3ZNb2RlbFRleHQsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBpZDogImFjY291bnQtcGFnZSIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAga2V5OiAwCn07CnZhciBfaG9pc3RlZF8zID0gewogIGlkOiAiZmF2b3JpdGVzIgp9OwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJzdHJvbmciLCBudWxsLCAiWW91ciBGYXZvcml0ZXMiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNSA9IHsKICBrZXk6IDAKfTsKCnZhciBfaG9pc3RlZF82ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgicCIsIG51bGwsICJObyBmYXZvcml0ZXMgeWV0LiIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF83ID0gewogIGtleTogMQp9Owp2YXIgX2hvaXN0ZWRfOCA9IHsKICBrZXk6IDEsCiAgaWQ6ICJsb2dpbkZvcm0iCn07Cgp2YXIgX2hvaXN0ZWRfOSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImgyIiwgbnVsbCwgIkxvZ2luIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzEwID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIiBFbWFpbDogIik7Cgp2YXIgX2hvaXN0ZWRfMTEgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiIFBhc3N3b3JkOiAiKTsKCnZhciBfaG9pc3RlZF8xMiA9IHsKICBrZXk6IDAKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFskb3B0aW9ucy51c2VyICYmICRvcHRpb25zLnVzZXIubmFtZSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZSgiaDIiLCBudWxsLCAiSGksICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRvcHRpb25zLnVzZXIubmFtZSkgKyAiISIsIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2hvaXN0ZWRfNCwgJGRhdGEuZmF2b3JpdGVzICYmICRkYXRhLmZhdm9yaXRlcy5sZW5ndGggPT0gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNSwgW19ob2lzdGVkXzZdKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzcsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEuZmF2b3JpdGVzLCBmdW5jdGlvbiAoZmF2b3JpdGUsIGtleSkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJsaSIsIHsKICAgICAga2V5OiBrZXkKICAgIH0sIF90b0Rpc3BsYXlTdHJpbmcoZmF2b3JpdGUudGl0bGUpLCAxCiAgICAvKiBURVhUICovCiAgICApOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSkpXSksIF9jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5sb2dvdXQgJiYgJG9wdGlvbnMubG9nb3V0LmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCAiTG9nb3V0IildKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzgsIFtfaG9pc3RlZF85LCBfY3JlYXRlVk5vZGUoImRpdiIsIG51bGwsIFtfY3JlYXRlVk5vZGUoImxhYmVsIiwgbnVsbCwgW19ob2lzdGVkXzEwLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJ0ZXh0IiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5kYXRhLmVtYWlsID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJGRhdGEuZGF0YS5lbWFpbF1dKV0pXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgbnVsbCwgW19jcmVhdGVWTm9kZSgibGFiZWwiLCBudWxsLCBbX2hvaXN0ZWRfMTEsIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgdHlwZTogInBhc3N3b3JkIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5kYXRhLnBhc3N3b3JkID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJGRhdGEuZGF0YS5wYXNzd29yZF1dKV0pXSksIF9jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5sb2dpbiAmJiAkb3B0aW9ucy5sb2dpbi5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgIkxvZ2luIiksICRkYXRhLmVycm9ycyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygidWwiLCBfaG9pc3RlZF8xMiwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkZGF0YS5lcnJvcnMsIGZ1bmN0aW9uIChlcnJvciwgaW5kZXgpIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygibGkiLCB7CiAgICAgIGNsYXNzOiAiZXJyb3IiLAogICAgICBrZXk6IGluZGV4CiAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKGVycm9yKSwgMQogICAgLyogVEVYVCAqLwogICAgKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pKV0pOwp9"},{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/e28/p3/src/components/pages/AccountPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"account-page\">\n    <div v-if=\"user && user.name\">\n      <h2>Hi, {{ user.name }}!</h2>\n\n      <div id=\"favorites\">\n        <strong>Your Favorites</strong>\n        <div v-if=\"favorites && favorites.length == 0\">\n          <p>No favorites yet.</p>\n        </div>\n        <div v-else>\n          <li v-for=\"(favorite, key) in favorites\" v-bind:key=\"key\">\n            {{ favorite.title }}\n          </li>\n        </div>\n      </div>\n\n      <button v-on:click=\"logout\">Logout</button>\n    </div>\n\n    <div v-else id=\"loginForm\">\n      <h2>Login</h2>\n      <div>\n        <label>\n          Email:\n          <input type=\"text\" v-model=\"data.email\" />\n        </label>\n      </div>\n      <div>\n        <label>\n          Password:\n          <input type=\"password\" v-model=\"data.password\" />\n        </label>\n      </div>\n\n      <button v-on:click=\"login\">Login</button>\n\n      <ul v-if=\"errors\">\n        <li class=\"error\" v-for=\"(error, index) in errors\" :key=\"index\">\n          {{ error }}\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { axios } from \"@/common/app.js\";\nexport default {\n  data() {\n    return {\n      data: {\n        email: \"jill@harvard.edu\",\n        password: \"asdfasdf\",\n      },\n      errors: null,\n      favorites: [],\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user;\n    },\n    posts() {\n      return this.$store.state.posts;\n    },\n  },\n  methods: {\n    loadFavorites() {\n      if (this.user) {\n        axios.get(\"favorite/query?user_id=\" + this.user.id).then((response) => {\n          this.favorites = response.data.favorite.map((favorite) => {\n            return this.$store.getters.getPostById(favorite.post_id);\n          });\n        });\n      }\n    },\n    login() {\n      axios.post(\"login\", this.data).then((response) => {\n        if (response.data.authenticated) {\n          this.$store.commit(\"setUser\", response.data.user);\n        } else {\n          this.errors = response.data.errors;\n        }\n      });\n    },\n    logout() {\n      axios.post(\"logout\", this.data).then((response) => {\n        if (response && response.data && response.data.success) {\n          this.$store.commit(\"setUser\", null);\n        }\n      });\n    },\n  },\n  watch: {\n    user() {\n      this.loadFavorites();\n    },\n  },\n  mounted() {\n    this.loadFavorites();\n  },\n};\n</script>"],"sourceRoot":""}]}