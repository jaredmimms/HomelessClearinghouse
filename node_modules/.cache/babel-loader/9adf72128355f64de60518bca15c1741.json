{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/babel-loader/lib/index.js!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Applications/XAMPP/xamppfiles/htdocs/e28/p3/src/components/pages/OfferCreatePage.vue?vue&type=script&lang=js","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/src/components/pages/OfferCreatePage.vue","mtime":1651877730875},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/e28/p3/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgYXhpb3MgfSBmcm9tICJAL2NvbW1vbi9hcHAuanMiOwppbXBvcnQgVmFsaWRhdG9yIGZyb20gInZhbGlkYXRvcmpzIjsKaW1wb3J0IHsgcm91dGVyIH0gZnJvbSAiQC9jb21tb24vcm91dGVyLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvZmZlcjogewogICAgICAgIHRpdGxlOiAiTG9yZW0gaXBzdW0iLAogICAgICAgIGZlYXR1cmVkOiBmYWxzZSwKICAgICAgICBmYXZvcml0ZTogZmFsc2UsCiAgICAgICAgdGFnczogImxvcmVtIiwKICAgICAgICBjb250ZW50OiAiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdCwgc2VkIGRvIGVpdXNtb2QgdGVtcG9yIGluY2lkaWR1bnQgdXQgbGFib3JlIGV0IGRvbG9yZSBtYWduYSBhbGlxdWEuIFV0IGVuaW0gYWQgbWluaW0gdmVuaWFtLCBxdWlzIG5vc3RydWQgZXhlcmNpdGF0aW9uIHVsbGFtY28gbGFib3JpcyBuaXNpIHV0IGFsaXF1aXAgZXggZWEgY29tbW9kbyBjb25zZXF1YXQuIER1aXMgYXV0ZSBpcnVyZSBkb2xvciBpbiByZXByZWhlbmRlcml0IGluIHZvbHVwdGF0ZSB2ZWxpdCBlc3NlIGNpbGx1bSBkb2xvcmUgZXUgZnVnaWF0IG51bGxhIHBhcmlhdHVyLiBFeGNlcHRldXIgc2ludCBvY2NhZWNhdCBjdXBpZGF0YXQgbm9uIHByb2lkZW50LCBzdW50IGluIGN1bHBhIHF1aSBvZmZpY2lhIGRlc2VydW50IG1vbGxpdCBhbmltIGlkIGVzdCBsYWJvcnVtLiIKICAgICAgfSwKICAgICAgZXJyb3JzOiBudWxsLAogICAgICBzdWNjZXNzOiBmYWxzZSwKICAgICAgZmFpbHVyZTogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRPZmZlcjogZnVuY3Rpb24gYWRkT2ZmZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy52YWxpZGF0ZSgpKSB7CiAgICAgICAgdmFyIGVkaXRlZE9mZmVyID0gdGhpcy5vZmZlcjsKCiAgICAgICAgaWYgKGVkaXRlZE9mZmVyLmZlYXR1cmVkKSB7CiAgICAgICAgICBlZGl0ZWRPZmZlci5mZWF0dXJlZCA9IDE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGVkaXRlZE9mZmVyLmZlYXR1cmVkID0gMDsKICAgICAgICB9CgogICAgICAgIGlmIChlZGl0ZWRPZmZlci5mYXZvcml0ZSkgewogICAgICAgICAgZWRpdGVkT2ZmZXIuZmF2b3JpdGUgPSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlZGl0ZWRPZmZlci5mYXZvcml0ZSA9IDA7CiAgICAgICAgfQoKICAgICAgICBheGlvcy5wb3N0KCIvcG9zdCIsIGVkaXRlZE9mZmVyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5lcnJvcnMpIHsKICAgICAgICAgICAgX3RoaXMuZmFpbHVyZSA9IHRydWU7CiAgICAgICAgICAgIF90aGlzLnN1Y2Nlc3MgPSBmYWxzZTsgLy8gY29udGludWUgZnJvbSBoZXJlIHdpdGggZXJyb3JzCgogICAgICAgICAgICBfdGhpcy5lcnJvcnMgPSByZXNwb25zZS5kYXRhLmVycm9yczsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLm9mZmVyID0ge307CiAgICAgICAgICAgIF90aGlzLmVycm9ycyA9IG51bGw7CiAgICAgICAgICAgIF90aGlzLnN1Y2Nlc3MgPSB0cnVlOwogICAgICAgICAgICBfdGhpcy5mYWlsdXJlID0gZmFsc2U7CgogICAgICAgICAgICBfdGhpcy4kZW1pdCgidXBkYXRlLW9mZmVycyIpOwoKICAgICAgICAgICAgcm91dGVyLnB1c2goIi9vZmZlci8iICsgcmVzcG9uc2UuZGF0YS5wb3N0LmlkKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZSgpIHsKICAgICAgdmFyIHZhbGlkYXRvciA9IG5ldyBWYWxpZGF0b3IodGhpcy5vZmZlciwgewogICAgICAgIHRpdGxlOiAicmVxdWlyZWR8YmV0d2VlbjozLDEwMCIsCiAgICAgICAgdGFnczogInJlcXVpcmVkfGJldHdlZW46MywxMDAiLAogICAgICAgIGNvbnRlbnQ6ICJyZXF1aXJlZHxtaW46MTAwIgogICAgICB9KTsKCiAgICAgIGlmICh2YWxpZGF0b3IuZmFpbHMoKSkgewogICAgICAgIHRoaXMuZXJyb3JzID0gdmFsaWRhdG9yLmVycm9ycy5hbGwoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9ycyA9IG51bGw7CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWxpZGF0b3IucGFzc2VzKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/e28/p3/src/components/pages/OfferCreatePage.vue"],"names":[],"mappings":"AA0DA,SAAS,KAAT,QAAsB,iBAAtB;AACA,OAAO,SAAP,MAAsB,aAAtB;AACA,SAAS,MAAT,QAAuB,oBAAvB;AAEA,eAAe;AACb,EAAA,IADa,kBACN;AACL,WAAO;AACL,MAAA,KAAK,EAAE;AACL,QAAA,KAAK,EAAE,aADF;AAEL,QAAA,QAAQ,EAAE,KAFL;AAGL,QAAA,QAAQ,EAAE,KAHL;AAIL,QAAA,IAAI,EAAE,OAJD;AAKL,QAAA,OAAO,EACL;AANG,OADF;AASL,MAAA,MAAM,EAAE,IATH;AAUL,MAAA,OAAO,EAAE,KAVJ;AAWL,MAAA,OAAO,EAAE;AAXJ,KAAP;AAaD,GAfY;AAgBb,EAAA,OAAO,EAAE;AACP,IAAA,QADO,sBACI;AAAA;;AACT,UAAI,KAAK,QAAL,EAAJ,EAAqB;AACnB,YAAI,WAAU,GAAI,KAAK,KAAvB;;AACA,YAAI,WAAW,CAAC,QAAhB,EAA0B;AACxB,UAAA,WAAW,CAAC,QAAZ,GAAuB,CAAvB;AACF,SAFA,MAEO;AACL,UAAA,WAAW,CAAC,QAAZ,GAAuB,CAAvB;AACF;;AACA,YAAI,WAAW,CAAC,QAAhB,EAA0B;AACxB,UAAA,WAAW,CAAC,QAAZ,GAAuB,CAAvB;AACF,SAFA,MAEO;AACL,UAAA,WAAW,CAAC,QAAZ,GAAuB,CAAvB;AACF;;AACA,QAAA,KAAK,CAAC,IAAN,CAAW,OAAX,EAAoB,WAApB,EAAiC,IAAjC,CAAsC,UAAC,QAAD,EAAc;AAClD,cAAI,QAAQ,CAAC,IAAT,IAAiB,QAAQ,CAAC,IAAT,CAAc,MAAnC,EAA2C;AACzC,YAAA,KAAI,CAAC,OAAL,GAAe,IAAf;AACA,YAAA,KAAI,CAAC,OAAL,GAAe,KAAf,CAFyC,CAGzC;;AACA,YAAA,KAAI,CAAC,MAAL,GAAc,QAAQ,CAAC,IAAT,CAAc,MAA5B;AACF,WALA,MAKO;AACL,YAAA,KAAI,CAAC,KAAL,GAAa,EAAb;AACA,YAAA,KAAI,CAAC,MAAL,GAAc,IAAd;AACA,YAAA,KAAI,CAAC,OAAL,GAAe,IAAf;AACA,YAAA,KAAI,CAAC,OAAL,GAAe,KAAf;;AACA,YAAA,KAAI,CAAC,KAAL,CAAW,eAAX;;AACA,YAAA,MAAM,CAAC,IAAP,CAAY,YAAY,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,EAA3C;AACF;AACD,SAdD;AAeF;AACD,KA9BM;AA+BP,IAAA,QA/BO,sBA+BI;AACT,UAAI,SAAQ,GAAI,IAAI,SAAJ,CAAc,KAAK,KAAnB,EAA0B;AACxC,QAAA,KAAK,EAAE,wBADiC;AAExC,QAAA,IAAI,EAAE,wBAFkC;AAGxC,QAAA,OAAO,EAAE;AAH+B,OAA1B,CAAhB;;AAMA,UAAI,SAAS,CAAC,KAAV,EAAJ,EAAuB;AACrB,aAAK,MAAL,GAAc,SAAS,CAAC,MAAV,CAAiB,GAAjB,EAAd;AACF,OAFA,MAEO;AACL,aAAK,MAAL,GAAc,IAAd;AACF;;AAEA,aAAO,SAAS,CAAC,MAAV,EAAP;AACD;AA7CM;AAhBI,CAAf","sourcesContent":["<template>\n  <div>\n    <h2>Add an Offer</h2>\n\n    <div id=\"inputs\">\n      <label for=\"title\">Title</label>\n      <input\n        type=\"text\"\n        v-model=\"offer.title\"\n        id=\"title\"\n        v-on:blur=\"validate\"\n      />\n      <div v-if=\"errors && errors.title\" class=\"error\">\n        <li v-for=\"(item, index) in errors.title\" v-bind:key=\"index\">\n          {{ item }}\n        </li>\n      </div>\n\n      <label for=\"favorite\" class=\"form-checkbox-label\">\n        <input type=\"checkbox\" v-model=\"offer.favorite\" id=\"favorite\" />\n        Favorite?\n      </label>\n\n      <label for=\"featured\" class=\"form-checkbox-label\">\n        <input type=\"checkbox\" v-model=\"offer.featured\" id=\"featured\" />\n        Featured?\n      </label>\n\n      <label for=\"content\">Content</label>\n      <textarea\n        v-model=\"offer.content\"\n        id=\"content\"\n        v-on:blur=\"validate\"\n      ></textarea>\n      <div v-if=\"errors && errors.content\" class=\"error\">\n        <li v-for=\"(item, index) in errors.content\" v-bind:key=\"index\">\n          {{ item }}\n        </li>\n      </div>\n\n      <label for=\"tags\">Tags (separated by comma)</label>\n      <input type=\"text\" v-model=\"offer.tags\" id=\"tags\" v-on:blur=\"validate\" />\n      <div v-if=\"errors && errors.tags\" class=\"error\">\n        <li v-for=\"(item, index) in errors.tags\" v-bind:key=\"index\">\n          {{ item }}\n        </li>\n      </div>\n    </div>\n\n    <button v-on:click=\"addOffer\" id=\"addOffer\" class=\"btn btn-primary\">\n      Add Offer\n    </button>\n    <div v-if=\"success\" class=\"success\">Offer successfully added</div>\n    <div v-if=\"failure && errors\" class=\"error\">Error adding offer</div>\n  </div>\n</template>\n\n<script>\nimport { axios } from \"@/common/app.js\";\nimport Validator from \"validatorjs\";\nimport { router } from \"@/common/router.js\";\n\nexport default {\n  data() {\n    return {\n      offer: {\n        title: \"Lorem ipsum\",\n        featured: false,\n        favorite: false,\n        tags: \"lorem\",\n        content:\n          \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\n      },\n      errors: null,\n      success: false,\n      failure: false,\n    };\n  },\n  methods: {\n    addOffer() {\n      if (this.validate()) {\n        var editedOffer = this.offer;\n        if (editedOffer.featured) {\n          editedOffer.featured = 1;\n        } else {\n          editedOffer.featured = 0;\n        }\n        if (editedOffer.favorite) {\n          editedOffer.favorite = 1;\n        } else {\n          editedOffer.favorite = 0;\n        }\n        axios.post(\"/post\", editedOffer).then((response) => {\n          if (response.data && response.data.errors) {\n            this.failure = true;\n            this.success = false;\n            // continue from here with errors\n            this.errors = response.data.errors;\n          } else {\n            this.offer = {};\n            this.errors = null;\n            this.success = true;\n            this.failure = false;\n            this.$emit(\"update-offers\");\n            router.push(\"/offer/\" + response.data.post.id);\n          }\n        });\n      }\n    },\n    validate() {\n      let validator = new Validator(this.offer, {\n        title: \"required|between:3,100\",\n        tags: \"required|between:3,100\",\n        content: \"required|min:100\",\n      });\n\n      if (validator.fails()) {\n        this.errors = validator.errors.all();\n      } else {\n        this.errors = null;\n      }\n\n      return validator.passes();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.error {\n  color: red;\n}\n.success {\n  color: green;\n}\n#inputs {\n  text-align: left;\n  padding-left: 2em;\n}\n#addOffer {\n  text-align: left;\n  display: block;\n  margin-top: 1em;\n  margin-left: 3.5em;\n}\ninput,\nlabel {\n  display: block;\n}\n</style>"],"sourceRoot":""}]}