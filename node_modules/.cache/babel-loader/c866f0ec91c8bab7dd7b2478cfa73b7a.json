{"remainingRequest":"/Users/jaredmimms/Desktop/cs50_Mimms_Final_Project/node_modules/thread-loader/dist/cjs.js!/Users/jaredmimms/Desktop/cs50_Mimms_Final_Project/node_modules/babel-loader/lib/index.js!/Users/jaredmimms/Desktop/cs50_Mimms_Final_Project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jaredmimms/Desktop/cs50_Mimms_Final_Project/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/jaredmimms/Desktop/cs50_Mimms_Final_Project/src/components/pages/OfferCreatePage.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/jaredmimms/Desktop/cs50_Mimms_Final_Project/src/components/pages/OfferCreatePage.vue","mtime":1651940844098},{"path":"/Users/jaredmimms/Desktop/cs50_Mimms_Final_Project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaredmimms/Desktop/cs50_Mimms_Final_Project/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaredmimms/Desktop/cs50_Mimms_Final_Project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jaredmimms/Desktop/cs50_Mimms_Final_Project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaredmimms/Desktop/cs50_Mimms_Final_Project/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgYXhpb3MgfSBmcm9tICJAL2NvbW1vbi9hcHAuanMiOwppbXBvcnQgVmFsaWRhdG9yIGZyb20gInZhbGlkYXRvcmpzIjsKaW1wb3J0IHsgcm91dGVyIH0gZnJvbSAiQC9jb21tb24vcm91dGVyLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvZmZlcjogewogICAgICAgIHRpdGxlOiAiTG9yZW0gaXBzdW0iLAogICAgICAgIGZlYXR1cmVkOiBmYWxzZSwKICAgICAgICB0YWdzOiAibG9yZW0iLAogICAgICAgIGNvbnRlbnQ6ICJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBzZWQgZG8gZWl1c21vZCB0ZW1wb3IgaW5jaWRpZHVudCB1dCBsYWJvcmUgZXQgZG9sb3JlIG1hZ25hIGFsaXF1YS4gVXQgZW5pbSBhZCBtaW5pbSB2ZW5pYW0sIHF1aXMgbm9zdHJ1ZCBleGVyY2l0YXRpb24gdWxsYW1jbyBsYWJvcmlzIG5pc2kgdXQgYWxpcXVpcCBleCBlYSBjb21tb2RvIGNvbnNlcXVhdC4gRHVpcyBhdXRlIGlydXJlIGRvbG9yIGluIHJlcHJlaGVuZGVyaXQgaW4gdm9sdXB0YXRlIHZlbGl0IGVzc2UgY2lsbHVtIGRvbG9yZSBldSBmdWdpYXQgbnVsbGEgcGFyaWF0dXIuIEV4Y2VwdGV1ciBzaW50IG9jY2FlY2F0IGN1cGlkYXRhdCBub24gcHJvaWRlbnQsIHN1bnQgaW4gY3VscGEgcXVpIG9mZmljaWEgZGVzZXJ1bnQgbW9sbGl0IGFuaW0gaWQgZXN0IGxhYm9ydW0uIgogICAgICB9LAogICAgICBlcnJvcnM6IG51bGwsCiAgICAgIHN1Y2Nlc3M6IGZhbHNlLAogICAgICBmYWlsdXJlOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZE9mZmVyOiBmdW5jdGlvbiBhZGRPZmZlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnZhbGlkYXRlKCkpIHsKICAgICAgICB2YXIgZWRpdGVkT2ZmZXIgPSB0aGlzLm9mZmVyOwoKICAgICAgICBpZiAoZWRpdGVkT2ZmZXIuZmVhdHVyZWQpIHsKICAgICAgICAgIGVkaXRlZE9mZmVyLmZlYXR1cmVkID0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZWRpdGVkT2ZmZXIuZmVhdHVyZWQgPSAwOwogICAgICAgIH0KCiAgICAgICAgYXhpb3MucG9zdCgiL29mZmVyIiwgewogICAgICAgICAgb2ZmZXI6IGVkaXRlZE9mZmVyCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuZXJyb3JzKSB7CiAgICAgICAgICAgIF90aGlzLmZhaWx1cmUgPSB0cnVlOwogICAgICAgICAgICBfdGhpcy5zdWNjZXNzID0gZmFsc2U7IC8vIGNvbnRpbnVlIGZyb20gaGVyZSB3aXRoIGVycm9ycwoKICAgICAgICAgICAgX3RoaXMuZXJyb3JzID0gcmVzcG9uc2UuZGF0YS5lcnJvcnM7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy5vZmZlciA9IHt9OwogICAgICAgICAgICBfdGhpcy5lcnJvcnMgPSBudWxsOwogICAgICAgICAgICBfdGhpcy5zdWNjZXNzID0gdHJ1ZTsKICAgICAgICAgICAgX3RoaXMuZmFpbHVyZSA9IGZhbHNlOwoKICAgICAgICAgICAgX3RoaXMuJGVtaXQoInVwZGF0ZS1vZmZlcnMiKTsKCiAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvb2ZmZXIvIiArIHJlc3BvbnNlLmRhdGEub2ZmZXIuaWQpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKCkgewogICAgICB2YXIgdmFsaWRhdG9yID0gbmV3IFZhbGlkYXRvcih0aGlzLm9mZmVyLCB7CiAgICAgICAgdGl0bGU6ICJyZXF1aXJlZHxiZXR3ZWVuOjMsMTAwIiwKICAgICAgICB0YWdzOiAicmVxdWlyZWR8YmV0d2VlbjozLDEwMCIsCiAgICAgICAgY29udGVudDogInJlcXVpcmVkfG1pbjoxMDAiCiAgICAgIH0pOwoKICAgICAgaWYgKHZhbGlkYXRvci5mYWlscygpKSB7CiAgICAgICAgdGhpcy5lcnJvcnMgPSB2YWxpZGF0b3IuZXJyb3JzLmFsbCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyb3JzID0gbnVsbDsKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbGlkYXRvci5wYXNzZXMoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/jaredmimms/Desktop/cs50_Mimms_Final_Project/src/components/pages/OfferCreatePage.vue"],"names":[],"mappings":"AAqDA,SAAS,KAAT,QAAsB,iBAAtB;AACA,OAAO,SAAP,MAAsB,aAAtB;AACA,SAAS,MAAT,QAAuB,oBAAvB;AAEA,eAAe;AACb,EAAA,IADa,kBACN;AACL,WAAO;AACL,MAAA,KAAK,EAAE;AACL,QAAA,KAAK,EAAE,aADF;AAEL,QAAA,QAAQ,EAAE,KAFL;AAGL,QAAA,IAAI,EAAE,OAHD;AAIL,QAAA,OAAO,EACL;AALG,OADF;AAQL,MAAA,MAAM,EAAE,IARH;AASL,MAAA,OAAO,EAAE,KATJ;AAUL,MAAA,OAAO,EAAE;AAVJ,KAAP;AAYD,GAdY;AAeb,EAAA,OAAO,EAAE;AACP,IAAA,QADO,sBACI;AAAA;;AACT,UAAI,KAAK,QAAL,EAAJ,EAAqB;AACnB,YAAI,WAAU,GAAI,KAAK,KAAvB;;AACA,YAAI,WAAW,CAAC,QAAhB,EAA0B;AACxB,UAAA,WAAW,CAAC,QAAZ,GAAuB,CAAvB;AACF,SAFA,MAEO;AACL,UAAA,WAAW,CAAC,QAAZ,GAAuB,CAAvB;AACF;;AACA,QAAA,KAAK,CAAC,IAAN,CAAW,QAAX,EAAqB;AAAE,UAAA,KAAK,EAAE;AAAT,SAArB,EAA6C,IAA7C,CAAkD,UAAC,QAAD,EAAc;AAC9D,cAAI,QAAQ,CAAC,IAAT,IAAiB,QAAQ,CAAC,IAAT,CAAc,MAAnC,EAA2C;AACzC,YAAA,KAAI,CAAC,OAAL,GAAe,IAAf;AACA,YAAA,KAAI,CAAC,OAAL,GAAe,KAAf,CAFyC,CAGzC;;AACA,YAAA,KAAI,CAAC,MAAL,GAAc,QAAQ,CAAC,IAAT,CAAc,MAA5B;AACF,WALA,MAKO;AACL,YAAA,KAAI,CAAC,KAAL,GAAa,EAAb;AACA,YAAA,KAAI,CAAC,MAAL,GAAc,IAAd;AACA,YAAA,KAAI,CAAC,OAAL,GAAe,IAAf;AACA,YAAA,KAAI,CAAC,OAAL,GAAe,KAAf;;AACA,YAAA,KAAI,CAAC,KAAL,CAAW,eAAX;;AACA,YAAA,MAAM,CAAC,IAAP,CAAY,YAAY,QAAQ,CAAC,IAAT,CAAc,KAAd,CAAoB,EAA5C;AACF;AACD,SAdD;AAeF;AACD,KAzBM;AA0BP,IAAA,QA1BO,sBA0BI;AACT,UAAI,SAAQ,GAAI,IAAI,SAAJ,CAAc,KAAK,KAAnB,EAA0B;AACxC,QAAA,KAAK,EAAE,wBADiC;AAExC,QAAA,IAAI,EAAE,wBAFkC;AAGxC,QAAA,OAAO,EAAE;AAH+B,OAA1B,CAAhB;;AAMA,UAAI,SAAS,CAAC,KAAV,EAAJ,EAAuB;AACrB,aAAK,MAAL,GAAc,SAAS,CAAC,MAAV,CAAiB,GAAjB,EAAd;AACF,OAFA,MAEO;AACL,aAAK,MAAL,GAAc,IAAd;AACF;;AAEA,aAAO,SAAS,CAAC,MAAV,EAAP;AACD;AAxCM;AAfI,CAAf","sourcesContent":["<template>\n  <div>\n    <h2>Add an Offer</h2>\n\n    <div id=\"inputs\">\n      <label for=\"title\">Title</label>\n      <input\n        type=\"text\"\n        v-model=\"offer.title\"\n        id=\"title\"\n        v-on:blur=\"validate\"\n      />\n      <div v-if=\"errors && errors.title\" class=\"error\">\n        <li v-for=\"(item, index) in errors.title\" v-bind:key=\"index\">\n          {{ item }}\n        </li>\n      </div>\n\n      <label for=\"featured\" class=\"form-checkbox-label\">\n        <input type=\"checkbox\" v-model=\"offer.featured\" id=\"featured\" />\n        Featured?\n      </label>\n\n      <label for=\"content\">Content</label>\n      <textarea\n        v-model=\"offer.content\"\n        id=\"content\"\n        v-on:blur=\"validate\"\n      ></textarea>\n      <div v-if=\"errors && errors.content\" class=\"error\">\n        <li v-for=\"(item, index) in errors.content\" v-bind:key=\"index\">\n          {{ item }}\n        </li>\n      </div>\n\n      <label for=\"tags\">Tags (separated by comma)</label>\n      <input type=\"text\" v-model=\"offer.tags\" id=\"tags\" v-on:blur=\"validate\" />\n      <div v-if=\"errors && errors.tags\" class=\"error\">\n        <li v-for=\"(item, index) in errors.tags\" v-bind:key=\"index\">\n          {{ item }}\n        </li>\n      </div>\n    </div>\n\n    <button v-on:click=\"addOffer\" id=\"addOffer\" class=\"btn btn-primary\">\n      Add Offer\n    </button>\n    <div v-if=\"success\" class=\"success\">Offer successfully added</div>\n    <div v-if=\"failure && errors\" class=\"error\">Error adding offer</div>\n  </div>\n</template>\n\n<script>\nimport { axios } from \"@/common/app.js\";\nimport Validator from \"validatorjs\";\nimport { router } from \"@/common/router.js\";\n\nexport default {\n  data() {\n    return {\n      offer: {\n        title: \"Lorem ipsum\",\n        featured: false,\n        tags: \"lorem\",\n        content:\n          \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\n      },\n      errors: null,\n      success: false,\n      failure: false,\n    };\n  },\n  methods: {\n    addOffer() {\n      if (this.validate()) {\n        var editedOffer = this.offer;\n        if (editedOffer.featured) {\n          editedOffer.featured = 1;\n        } else {\n          editedOffer.featured = 0;\n        }\n        axios.post(\"/offer\", { offer: editedOffer }).then((response) => {\n          if (response.data && response.data.errors) {\n            this.failure = true;\n            this.success = false;\n            // continue from here with errors\n            this.errors = response.data.errors;\n          } else {\n            this.offer = {};\n            this.errors = null;\n            this.success = true;\n            this.failure = false;\n            this.$emit(\"update-offers\");\n            router.push(\"/offer/\" + response.data.offer.id);\n          }\n        });\n      }\n    },\n    validate() {\n      let validator = new Validator(this.offer, {\n        title: \"required|between:3,100\",\n        tags: \"required|between:3,100\",\n        content: \"required|min:100\",\n      });\n\n      if (validator.fails()) {\n        this.errors = validator.errors.all();\n      } else {\n        this.errors = null;\n      }\n\n      return validator.passes();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.error {\n  color: red;\n}\n.success {\n  color: green;\n}\n#inputs {\n  text-align: left;\n  padding-left: 2em;\n}\n#addOffer {\n  text-align: left;\n  display: block;\n  margin-top: 1em;\n  margin-left: 3.3em;\n}\ninput,\nlabel {\n  display: block;\n}\n</style>"],"sourceRoot":""}]}